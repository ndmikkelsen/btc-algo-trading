# A-S / GLFT Market Making Trader
#
# Usage:
#   docker compose up -d          # Start trader (testnet)
#   docker compose logs -f        # Follow logs
#   docker compose down           # Stop trader
#
# Note: The Cognee stack lives at .claude/docker/docker-compose.yml
#       and uses a separate project name (btc-algo-cognee). No conflicts.

services:
  trader:
    build:
      context: .
      dockerfile: Dockerfile
    env_file:
      - .env
    environment:
      - BYBIT_API_KEY=${BYBIT_API_KEY}
      - BYBIT_API_SECRET=${BYBIT_API_SECRET}
      - BYBIT_TESTNET=${BYBIT_TESTNET:-true}
      - TRADING_MODEL=${TRADING_MODEL:-glft}
      - FEE_TIER=${FEE_TIER:-regular}
      - KAPPA_MODE=${KAPPA_MODE:-live}
      - INITIAL_CAPITAL=${INITIAL_CAPITAL:-1000}
      - ORDER_SIZE=${ORDER_SIZE:-0.003}
      - QUOTE_INTERVAL=${QUOTE_INTERVAL:-5.0}
    restart: unless-stopped
    logging:
      driver: json-file
      options:
        max-size: "10m"
        max-file: "3"
    volumes:
      - ./logs:/app/logs
