# Backtest Finding: MACDBB (2026-02-02)

**Date**: 2026-02-02 21:11
**Strategy**: MACDBB
**Tags**: `optimized`, `4h`, `btc`, `macd`, `bollinger`, `adx`
**Outcome**: outperformed-market

## Summary

| Metric | Value |
|--------|-------|
| Period | 2025-02-02 00:00:00 to 2026-02-02 00:00:00 |
| Total Trades | 38 |
| Win Rate | 71.1% |
| Total Profit | -2.73% (-273.34 USDT) |
| Market Change | -23.08% |
| Outperformance | +20.34% |
| Max Drawdown | 0.00% |
| Sharpe Ratio | -0.23 |
| Sortino Ratio | -12.39 |
| Profit Factor | 0.76 |
| Avg Duration | 31.8 hours |
| Wins / Losses | 27 / 11 |

## Analysis

- **Strong win rate** (71.1%) indicates reliable entry signals
- **Negative profit factor** (0.76) - losses exceed wins
- **Outperformed buy-and-hold** by 20.34%
- **Acceptable drawdown** (0.00%)

## Notes

Optimized V3: ROI targets + ADX trend filter + 3% stop loss. Best risk-reward balance. Outperforms buy-and-hold by 20.35% in bear market.

## Configuration

```json
{
  "MACD_FAST": 12,
  "MACD_SLOW": 26,
  "MACD_SIGNAL": 9,
  "BB_PERIOD": 20,
  "BB_STD": 2.0,
  "BB_NEAR_THRESHOLD": 0.02,
  "BB_LOOKBACK": 5,
  "EXIT_ON_UPPER_BB": false,
  "USE_TREND_FILTER": true,
  "ADX_THRESHOLD": 25.0,
  "STOPLOSS": -0.03,
  "TRAILING_STOP": true,
  "TRAILING_STOP_POSITIVE": 0.015,
  "TRAILING_STOP_POSITIVE_OFFSET": 0.03,
  "minimal_roi": {
    "0": 0.04,
    "24": 0.03,
    "48": 0.02,
    "72": 0.01
  }
}
```

## Lessons Learned

1. **Risk-reward ratio is critical** - Initial 75% win rate still lost money due to 0.20:1 risk-reward (risking 4.8% to make 0.95%). Fixed with ROI targets.

2. **ROI targets improve profit capture** - Tiered minimal_roi (4%→3%→2%→1%) ensures winners are closed at profit rather than waiting for trailing stop.

3. **ADX filter reduces bad trades** - Filtering out entries when ADX > 25 AND DI- > DI+ (strong downtrend) reduced losses from "falling knives".

4. **Tighter stop losses can hurt** - Testing 2.5% stop loss resulted in -5.27% profit (worse than 3% stop loss at -2.73%). Gets stopped out too early.

5. **Trailing stop activation offset matters** - 3% offset lets winners run before trailing kicks in, balancing profit capture with trend riding.

## Optimization History

| Version | Config Change | Profit | Win Rate | Notes |
|---------|--------------|--------|----------|-------|
| V1 | Baseline (strict BB match) | N/A | 0 trades | Entry conditions never met |
| V2 | Added lookback window | -6.21% | 66.7% | Too many losing trades |
| V3 | +ROI targets | -3.53% | 75.0% | Better profit capture |
| V4 | +ADX trend filter | **-2.73%** | **71.1%** | Best result - avoids downtrends |
| V5 | 2.5% stop loss test | -5.27% | 62.8% | Worse - stopped out too early |

## Next Steps

- [ ] Test multiple pairs (ETH/USDT, SOL/USDT) to validate strategy
- [ ] Run hyperopt on BB_LOOKBACK and BB_NEAR_THRESHOLD parameters
- [ ] Test 1D timeframe for potentially cleaner signals
- [ ] Consider adding volume confirmation to entry signals
- [ ] Paper trade for 1-2 weeks before live deployment

---
*Generated by log_backtest.py*
